<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS-workbench</title>
</head>

<body>
  <textarea id="code" cols="30", rows="10">console.log("Hello");</textarea>
  <button id="button">Run</button>
  <pre id="output"></pre>

  <script>
    let code = document.querySelector("#code")
    let runButton = document.querySelector("#button")
    let output = document.querySelector("#output")

    // get console logs
    console.stdlog = console.log.bind(console);

    console.log = function (...args) {
      output.textContent += args.join(" ") + "\n";
      console.stdlog.apply(console, args);
    }

    function evalAndRun(codeStr) {
      try {
        return eval(codeStr);
      } catch (e) {
        return e.toString()
      }
    }

    runButton.addEventListener("click", function () {
      output.textContent = ""
      let returnVal = evalAndRun(code.value);
      output.textContent += returnVal + "\n";
    })

  </script>
</body>

</html>